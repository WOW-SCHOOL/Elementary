:root{
  --bg: #0b0b12;
  --card: #121121;
  --text: #e9e9f1;
  --text-dim:#bdbddb;
  --purple:#7b44ff;
  --purple-2:#a478ff;

  --shadow: 0 20px 60px rgba(0,0,0,.45);
  --radius: 16px;

  /* управление через параметры для Miro */
  --miro-zoom: 1;
  --fs-mult: 1;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  font-family:ui-sans-serif, system-ui, Segoe UI, Roboto, Inter, Arial, sans-serif;
  line-height:1.35;
  background:
    radial-gradient(1200px 900px at 15% -15%, #221c47 0%, transparent 55%),
    radial-gradient(1200px 900px at 85% -10%, #2e1b62 0%, transparent 55%),
    #0e0c18;
}

/* Miro-режим: можно дополнительно увеличивать */
html.miro{ zoom: var(--miro-zoom) }
html{ font-size: clamp(14px, 16px * var(--fs-mult), 24px) }

.site-head{ text-align:center; padding:28px 16px 10px }
.brand{ letter-spacing:.18em; opacity:.85; font-weight:700; margin-bottom:6px }
.title{
  margin:0; font-weight:800;
  font-size:clamp(24px, 36px * var(--fs-mult), 46px);
  text-shadow:0 6px 22px rgba(0,0,0,.45);
  background: linear-gradient(180deg, #eae6ff, #c8b9ff 65%, #9f86ff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

.wrap{ max-width:1100px; margin:0 auto 56px; padding:0 16px 32px }

.player-card{
  background: linear-gradient(180deg, #19182a, #0f0f18);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:20px 18px 90px;
  position:relative;
  border:1px solid rgba(255,255,255,.04);
}

.now{ margin-bottom:12px }
.now__top{
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  background:#0c0c14; padding:12px 14px; border-radius:12px
}
.now__title{ font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.now__time{ opacity:.85; font-variant-numeric:tabular-nums }
.seek{ width:100%; margin-top:10px; accent-color:var(--purple); height:6px }

/* список */
.list{ max-height:52vh; overflow:auto; padding-right:6px }
.row{
  width:100%; display:grid; grid-template-columns: 36px 1fr min-content;
  align-items:center; gap:10px;
  background:#10101a; color:var(--text);
  border:0; margin:8px 0; padding:14px 12px; border-radius:12px;
  cursor:pointer; transition: background .15s ease, transform .05s ease
}
.row:hover{ background:#141427 }
.row--active{ background:#2e1e55; outline:1px solid rgba(255,255,255,.05) }
.row__num{
  width:32px; height:28px; border-radius:20px; display:grid; place-items:center;
  background:rgba(255,255,255,.06); font-weight:700
}
.row__title{ text-align:left; font-weight:600 }
.row__dur{ color:var(--text-dim); font-variant-numeric:tabular-nums; margin-left:8px }

/* кнопки управления */
.controls{
  position:absolute; inset:auto 0 14px 0;
  display:flex; justify-content:center; align-items:center; gap:18px
}
.ctrl{
  width:54px; height:54px; border-radius:50%; border:0; cursor:pointer; font-size:22px;
  color:#eee; background:#262238; box-shadow: inset 0 -6px 14px rgba(0,0,0,.35);
  transition: transform .1s ease, background .15s ease
}
.ctrl:hover{ background:#2f2948; transform:translateY(-1px) }
.ctrl--main{
  width:86px; height:86px; font-size:30px;
  background: radial-gradient(100% 120% at 30% 25%, #9465ff 0%, #6a46ff 65%, #5a3af4 100%)
}

/* Постер (обложка) — теперь безопасно скрывается и не перехватывает клики */
.poster{
  position:fixed; inset:0; display:grid; place-items:center;
  background: radial-gradient(1200px 800px at 20% -10%, rgba(100,70,255,.35), transparent 50%), #0b0b13;
  border:0; width:100%; height:100%;
  cursor:pointer; z-index:10;
  transition: opacity .18s ease, visibility .18s ease;
}
.poster img{
  width:min(90vw, 820px); height:auto; display:block;
  border-radius:18px; box-shadow:0 30px 80px rgba(0,0,0,.55)
}
.poster__play{
  position:absolute; width:110px; height:110px; border-radius:50%;
  display:grid; place-items:center; font-size:42px; color:#fff;
  background: radial-gradient(100% 120% at 30% 25%, #a07aff 0%, #7a58ff 65%, #6346ff 100%);
  box-shadow:0 20px 60px rgba(0,0,0,.5)
}
.poster--hide{ opacity:0; visibility:hidden; pointer-events:none }

/* ошибка */
.row--err{ padding:14px 12px; border-radius:12px; background:#201a2a; color:#ffd3d3 }
