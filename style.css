:root{
  --bg:#7f6bfe; --bg-2:#0f0c1b; --card:#12101d; --row:#161327; --row-act:#2b1e4c;
  --text:#ececf4; --text-dim:#bcc2d8; --purple:#7b4dff; --purple-2:#a27bff;
  --shadow:0 22px 60px rgba(0,0,0,.40); --radius:16px;
}
*,*::before,*::after{ box-sizing:border-box } html,body{ height:100% }
body{ margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Inter,Arial,sans-serif; color:var(--text);
  background: radial-gradient(900px 900px at 10% 20%, #2a1c47 0%, transparent 60%),
             radial-gradient(1000px 1000px at 80% 5%,  #1e1640 0%, transparent 65%),
             linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
}

/* Шапка */
.site-head{ max-width:1080px; margin:24px auto 8px; padding:0 16px; display:flex; flex-direction:column; align-items:center; gap:6px; text-align:center; }
.brand{ font-weight:800; letter-spacing:.08em; font-size:20px; color:var(--purple-2); }
.page-title{ margin:.25rem 0 0; font-size:36px; line-height:1.2; font-weight:800;
  background: linear-gradient(90deg,var(--text) 0%, var(--text-dim) 80%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Карточка */
.player-card{ max-width:1080px; margin:12px auto 32px; padding:16px; border-radius:calc(var(--radius) + 4px);
  background: linear-gradient(180deg,#0f0b1a 0%, #0c0a14 100%); box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,.06); position:relative; }

/* Now Playing */
.now{ padding:18px 18px 12px; border-radius:14px; background:var(--card); margin-bottom:12px; }
.np-top{ display:flex; align-items:center; justify-content:space-between; gap:14px; }
.np-title{ font-weight:700; letter-spacing:.01em; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size:1.05rem; }
.np-time{ color:var(--text-dim); font-variant-numeric:tabular-nums; font-size:.95rem; }

/* Progress */
.seek{ -webkit-appearance:none; appearance:none; width:100%; margin:14px 0 0; height:10px; border-radius:999px;
  background: linear-gradient(90deg, var(--purple) 0%, var(--purple) 0) no-repeat, #1e1931; background-size:0% 100%; }
.seek::-webkit-slider-thumb{ -webkit-appearance:none; width:16px; height:16px; background:var(--purple-2); border-radius:50%;
  box-shadow:0 0 0 6px rgba(123,77,255,.15); border:0; }
.seek::-moz-range-thumb{ width:16px; height:16px; background:var(--purple-2); border-radius:50%; border:0; box-shadow:0 0 0 6px rgba(123,77,255,.15); }

/* Список треков — крупнее */
.tracklist{ list-style:none; padding:8px; margin:0; border-radius:12px; background:var(--card);
  max-height:52vh; overflow:auto; scrollbar-width:thin; border:1px solid rgba(255,255,255,.04); }
.row{ display:grid; grid-template-columns:48px 1fr 72px; align-items:center; gap:10px; padding:14px; border-radius:12px; cursor:pointer; user-select:none; color:var(--text); }
.row + .row{ margin-top:6px; }
.row:hover{ background:rgba(255,255,255,.05) } .row.active{ background:var(--row-act); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06) }
.t-num{ color:var(--text-dim); text-align:center; font-variant-numeric: tabular-nums; opacity:.9; font-size:1rem; }
.t-title{ overflow:hidden; white-space:nowrap; text-overflow:ellipsis; opacity:.96; font-size:1.02rem; }
.t-len{ color:var(--text-dim); text-align:right; font-variant-numeric: tabular-nums; font-size:1rem; }

/* Кнопки управления */
.controls{ position:sticky; bottom:-1px; display:flex; align-items:center; justify-content:center; gap:26px;
  padding:18px 12px 10px; margin-top:12px;
  background:linear-gradient(180deg, rgba(12,10,20,0) 0%, rgba(12,10,20,.9) 45%, rgba(12,10,20,1) 100%);
  border-bottom-left-radius: inherit; border-bottom-right-radius: inherit; }
.ctrl{ background:#1c1730; border:1px solid rgba(255,255,255,.08); color:var(--text); border-radius:999px; cursor:pointer;
  display:grid; place-items:center; transition:.15s ease; box-shadow:0 6px 18px rgba(0,0,0,.25); }
.ctrl:hover{ transform:translateY(-1px); border-color:rgba(255,255,255,.14) } .ctrl:active{ transform:translateY(0) }
.ctrl-sm{ width:60px; height:60px } .ctrl-lg{ width:96px; height:96px; background:linear-gradient(180deg, var(--purple) 0%, #5a3df3 100%); border:0 }
.ctrl svg{ width:28px; height:28px; fill:currentColor } .ctrl-lg svg{ width:38px; height:38px; fill:white }

.ctrl-lg .icon-pause{ display:none } .ctrl-lg.is-playing .icon-play{ display:none } .ctrl-lg.is-playing .icon-pause{ display:block }

@media (max-width:900px){ .tracklist{ max-height:56vh } .row{ grid-template-columns:40px 1fr 60px; gap:8px; padding:12px }
  .ctrl-sm{ width:56px; height:56px } .ctrl-lg{ width:88px; height:88px } }
@media (max-width:560px){ .row{ grid-template-columns:36px 1fr 56px } }

/* Постер */
.poster{ position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center;
  background: radial-gradient(1200px 700px at 30% 10%, rgba(255,255,255,.03) 0%, transparent 60%),
             radial-gradient(900px 600px at 90% 40%, rgba(255,255,255,.03) 0%, transparent 60%),
             linear-gradient(180deg, #1a1425 0%, #0e0a14 120%);
  transition: opacity .25s ease, visibility .25s ease; }
.poster.hide{ opacity:0; visibility:hidden; }
.poster img{ max-width:min(82vw, 950px); width:82%; height:auto; border-radius:18px; display:block;
  box-shadow:0 40px 120px rgba(0,0,0,.55), 0 2px 24px rgba(0,0,0,.35); filter:saturate(1.02) contrast(1.02); }
.poster .poster-play{ position:absolute; width:clamp(66px, 8.5vw, 92px); height:clamp(66px, 8.5vw, 92px); border-radius:999px; border:none; color:#fff;
  background:linear-gradient(180deg, var(--purple, #7b44ff) 0%, #5b2be8 100%); box-shadow:0 14px 40px rgba(92,46,240,.45), 0 2px 10px rgba(0,0,0,.25) inset;
  display:grid; place-items:center; cursor:pointer; transition:transform .15s ease, filter .15s ease, box-shadow .15s ease; transform:translateY(0); }
.poster .poster-play:hover{ filter:brightness(1.06); transform:translateY(-2px); } .poster .poster-play:active{ transform:translateY(0); }
